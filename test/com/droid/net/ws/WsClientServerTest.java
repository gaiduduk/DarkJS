package com.droid.net.ws;

import com.droid.djs.fs.Files;
import com.droid.djs.nodes.Node;
import com.droid.djs.nodes.NodeBuilder;
import org.junit.jupiter.api.Test;

import java.util.HashMap;

import static org.junit.jupiter.api.Assertions.*;

class WsClientServerTest {

    @Test
    void send() throws InterruptedException {
        WsClientServer proxy = new WsClientServer(9001);
        proxy.start();
        WsClientServer from = new WsClientServer(9002);
        from.start();
        WsClientServer dest = new WsClientServer(9003);
        dest.start();
        from.send(dest.getNodeName(), "Console/log", new Node[]{new NodeBuilder().createString("testMessage")});
        from.thread.join();
    }
}